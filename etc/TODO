[ This is -*-Indented-Text-*- ]

TODO list for Jade
******************

Bugs are marked !, things that should be done soon are marked +,
and more long-term ideas are marked -

Last modified: March 1, 1999


Outstanding bugs
================

 ! Reverse isearch doesn't update its position if a longer match
   appears as a result of more characters being added to the regexp

 ! C mode still mis-indents some straightforward statements

 ! mail-parse-address doesn't always work. It should really take the
   _list_ of atoms generated by mail-parse-group as its input and scan
   that. (Example of broken address: `Foo "" Bar <foo@bar.com>')

 ! changing glyph-tables via extents only half works---the
   make_window_glyphs function reloads the glyph table from each newly
   entered extent, but the uncached_string_glyph_length and char_col
   functions don't. Fixing this might mean changing the extent cache
   architecture


General programming tasks:
==========================

 + Add mouse-face and mouse-keymap extent properties

 + Allow redisplay to be preempted by input becoming available (test
   where in the redisplay algorithms though, in the diff, or the
   drawing, or both!?)

   [ I tried this, using SIGIO, to preempt the make_window_glyphs
     function since the profiler suggested that it's this function
     that takes the most time. The problem was that dragging the mouse
     saturated the input channel, and therefore nothing ever got
     drawn. I need to think this through some more. ]

 + Write a buffer compaction function (improve the locality of
   reference of lines in a buffer)

 + Clean up the mail-dir interface. Maybe turn it into a fully-fledged
   address book (not very hard, just easier access to non-standard
   fields)

   Also store things like message id of last message sent/received to
   this person (all message id's ever sent/received?), what else..?

 + Make swap-del-bs a runtime option, not compile time (or just get rid
   of it altogether?)

 - Mail reader extensions

   Allow sorting by more than one predicate. i.e. ``if scores are
   equal, compare by date'' kind of thing

   Should re-run the after-parse rules when the message properties
   change. E.g. if the rule sets the summary-face depending on whether
   the message is unread or not, when the message becomes read we want
   the face to return to normal

 - Syntax highlighting

   I don't like this myself, but it seems to be popular

 - Extend the online help

   `C-h m' is the general `context sensitive' help binding. This should
   work in more circumstances, e.g. in prompts

   Allow `links' between help messages

 - Allow jadeclient to communicate inter-host.

   What security mechanisms should I use? Xauth is one obvious
   solution, use XauGetAuthByAddr() to get the cookie, then send it
   down the link. Of course, this is no use if the client isn't running
   on an X display; then we could resort to what? Scan the .rhosts
   file? Generate our own magic cookie at server startup? Just allow
   certain hosts and deny others?...

 - Asynchronous notification of when a file changes externally

 - Change RCS mode to do generic version control, with backends for
   various systems (RCS, SCCS, ...)

   Note that CVS has its own mode since it's conceptually different; it
   deals with groups of files, whereas RCS only worries about files in
   the singular. But then again, there's no reason why individual files
   can't be accessed through the generic vc


X11 tasks:
==========

 - Scroll bars, menus. Would it be possible to enable use of GTK at
   compile time? Is it possible to handle multiple displays? I don't
   think so, but that's not a huge loss..

   What would be truly great would be to code a gtk jade_frame widget
   that is basically what we have at the moment--the grid of characters
   with paned views, then write a gtk Lisp binding. This would give
   total control

 - `Fuzzy' colour allocation; if a colour can't be allocated find the
   nearest match 


Manual tasks:
=============

 + Update it for version 4. This is a big task.
